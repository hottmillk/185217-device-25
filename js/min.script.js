var form=document.querySelector(".write-us"),popupform=document.querySelector(".modal-form"),close=document.querySelector(".close-modal"),formcheck=popupform.querySelector("form"),nameFocus=popupform.querySelector("[name=name]"),email=popupform.querySelector("[name=email]"),text=popupform.querySelector("[name=text"),storage=localStorage.getItem("nameFocus"),showMap=document.querySelector(".contacts-map"),popupMap=document.querySelector(".modal-map"),closeMap=popupMap.querySelector(".close-modal"),isStorageSupport=!0;storage="";try{storage=localStorage.getItem("nameFocus")}catch(e){isStorageSupport=!1}form.addEventListener("click",function(e){e.preventDefault(),popupform.classList.add("modal-show"),nameFocus.focus(),storage?(nameFocus.value=storage,text.focus()):nameFocus.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popupform.classList.remove("modal-show"),popupform.classList.remove("modal-error")}),formcheck.addEventListener("submit",function(e){nameFocus.value&&email.value&&text.value?isStorageSupport&&localStorage.setItem("nameFocus",nameFocus.value):(e.preventDefault(),popupform.classList.remove("modal-error"),popupform.offsetWidth=popupform.offsetWidth,popupform.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupform.classList.contains("modal-show")&&(e.preventDefault(),popupform.classList.remove("modal-show"),popupform.classList.remove("modal-error"))}),showMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupMap.classList.contains("modal-show")&&(e.preventDefault(),popupMap.classList.remove("modal-show"))});var services=document.querySelectorAll(".services-description > div");if(0!==services.length){var servicesNav=document.querySelector(".services-nav"),servicesItem=document.querySelectorAll(".services-item");servicesNav.addEventListener("click",function(e){e.preventDefault();var o=e.target;if(o.classList.contains("services-link")){for(var t=o.parentElement,s=0;s<services.length;s++)services[s].classList.remove("description-active"),servicesItem[s].classList.remove("active");var r=".description-"+o.id.split("-")[0];document.querySelector(r).classList.add("description-active"),t.classList.add("active")}})}